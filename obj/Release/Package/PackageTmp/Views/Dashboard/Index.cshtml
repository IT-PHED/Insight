
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_PHEDServeLayoutPage.cshtml";
}

 
            <div class="card">
                <div class="card-header">
                    <div class="d-flex align-items-center justify-content-between">
                        <h4 class="card-title">
                            Meter Installation
                        </h4>
                        @*<div class="badge badge-warning--filled align-self-middle">+48,6%</div>*@
                    </div>
                </div>
                <div class="card-body bg-body-bg">
                    <canvas id="members-chart" style="height: 200px; width: 100%;"></canvas>
                </div>
                <div class="card-group">
                    <div class="card card-body text-center">
                        <h3 class="mb-0">419</h3>
                        <div class="h6 m-0 text-primary">REGISTRATIONS</div>
                    </div>
                    <div class="card card-body text-center border-0">
                        <h3 class="mb-0">₦190,091</h3>
                        <div class="h6 m-0 text-success">UPFRONT PAYMMENTS</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    @*<div class="card-group mb-4">
                        <div class="card p-3">
                            <p class="text-center"><img src="~/assets/images/avatars/lucas-sankey-378674.jpg" class="rounded-circle mr-1" width="50" height="50" alt=""></p>
                            <div class="d-flex justify-content-center mb-1">
                                <h4 class="mb-0 mr-1">2250</h4>
                                <span class="align-self-end">pts</span>
                            </div>
                            <d-flex class="text-center mb-3">
                                <i class="material-icons align-middle text-warning">star</i>
                                <i class="material-icons align-middle text-warning">star</i>
                                <i class="material-icons align-middle text-warning">star</i>
                                <i class="material-icons align-middle text-warning">star_half</i>
                                <i class="material-icons align-middle text-muted">star_border</i>
                            </d-flex>
                            <a href="#" class="btn btn-white btn-sm">View Stats</a>
                        </div>
                        <div class="card card-body bg-primary">
                            <h4 class="m-0 text-white">Almost there, Adrian!</h4>
                            <p class="text-light">
                                Complete 4 more tasks to unlock your next rank and receive even more experience points. You can trade your experience points for money at any time.
                            </p>
                            <a href="#" class="text-white"><strong>read more...</strong></a>
                        </div>
                    </div>*@
                    <div class="card">
                        <div class="card-header d-flex align-items-center justify-content-between">
                            <h4 class="card-title">Pending Installations</h4>
                            <a href="#" class="btn btn-white btn-sm" data-toggle="modal" data-target="#newTicketModal">
                                <span class="align-middle">VIEW ALL</span>
                            </a>
                        </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/lucas-sankey-378674.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Bug fixes for initial release</a>
                                        <div>
                                            <small class="text-muted">Initial Release</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">7 Nov 2017</small>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/andrew-robles-300868.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Style cleanup and code refactor</a>
                                        <div>
                                            <small class="text-muted">Alpha Release</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">31 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/andrew-robles-300868.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Style cleanup and code refactor</a>
                                        <div>
                                            <small class="text-muted">Alpha Release</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">31 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/andrew-robles-300868.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Style cleanup and code refactor</a>
                                        <div>
                                            <small class="text-muted">Alpha Release</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">31 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/andrew-robles-300868.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Style cleanup and code refactor</a>
                                        <div>
                                            <small class="text-muted">Alpha Release</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">31 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/andrew-robles-300868.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Style cleanup and code refactor</a>
                                        <div>
                                            <small class="text-muted">Alpha Release</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">31 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                         
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/nathan-fertig-67862.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Updated asset pipeline configuration</a>
                                        <div>
                                            <small class="text-muted">Initial Release</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">9 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/lucas-sankey-378674.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Fixed visual bugs on lists</a>
                                        <div>
                                            <small class="text-muted">Bug Fixes</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">7 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/andrew-robles-300868.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Added global styling on tables</a>
                                        <div>
                                            <small class="text-muted">Global Styling</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">1 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                            <li class="list-group-item">
                                <div class="media align-items-center">
                                    <a href="#">  <img src="~/assets/images/avatars/louis-blythe-218641.jpg" class="rounded-circle mr-2" width="30" alt=""></a>
                                    <div class="media-body lh-1">
                                        <a href="#" class="m-0 h6">Added progress bars on dashboard</a>
                                        <div>
                                            <small class="text-muted">Global Styling</small>
                                        </div>
                                    </div>
                                    <div class="text-danger">
                                        <i class="material-icons md-14 align-middle">access_time</i>
                                        <small class="align-middle">1 Oct 2017</small>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header d-flex align-items-center justify-content-between">
                            <h4 class="card-title">View Goals</h4>
                            <a href="#" class="btn btn-white btn-sm" data-toggle="modal" data-target="#newTicketModal">
                                <i class="material-icons md-18 align-middle">edit</i>
                            </a>
                        </div>
                        <div class="p-2">
                            <div class="d-flex align-items-center">
                                <div id="goals-chart" class="align-content-md-center mb-3" style="width: 50%; height: 200px;"></div>
                                <div class="">
                                    @*<p class="lead text-muted mb-0">
                                        Views today
                                    </p>*@
                                    @*<h4 class="mb-0 text-primary">2806</h4>*@
                                </div>
                            </div>
                        </div>
                        <div class="px-3 pb-3">
                            <div class="card-group">
                                <div class="card bg-body-bg">
                                    <div class="card-body text-center">
                                        <span class="badge badge-link-color--filled mb-1">3000 views</span>
                                        <p class="mb-0">Goal Status</p>
                                    </div>
                                </div>
                                <div class="card bg-body-bg">
                                    <div class="card-body text-center">
                                        <span class="badge badge-success--filled mb-1">5 min</span>
                                        <p class="mb-0">Average Visit</p>
                                    </div>
                                </div>
                                <div class="card bg-body-bg">
                                    <div class="card-body text-center">
                                        <span class="badge badge-warning--filled mb-1">2109 pts</span>
                                        <p class="mb-0">Social Shares</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- STATS -->
                    <div class="card-deck">
                        <div class="card p-2 pl-3 pr-3">
                            <div class="media align-items-center">
                                <div class="doughnut-chart-wrapper mr-1">
                                    <div class="doughnut-chart-text">
                                        <div>
                                            <h3 class="text-danger">12%</h3>
                                            <small>Installed</small>
                                        </div>
                                    </div>
                                    <canvas class="doughnut-chart" data-percent="12" width="100" height="100"></canvas>
                                </div>
                                <div class="media-body">
                                    <h3 class="mb-0">1,020</h3>
                                    <span class="text-muted">Prepaid Meters</span>
                                </div>
                            </div>
                        </div>
                        <!-- </div> -->
                        <!-- <div class="col-md-3"> -->
                        <div class="card p-2 pl-3 pr-3">
                            <div class="media align-items-center">
                                <div class="doughnut-chart-wrapper mr-1">
                                    <div class="doughnut-chart-text">
                                        <div>
                                            <h3 class="text-success">68%</h3>
                                            <small>Installed</small>
                                        </div>
                                    </div>
                                    <canvas class="doughnut-chart" data-percent="68" width="100" height="100"></canvas>
                                </div>
                                <div class="media-body">
                                    <h3 class="mb-0">6,670</h3>
                                    <span class="text-muted">PostPaid METERS</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END STATS -->
                </div>
            </div>
  


 
  <!-- jQuery -->
<script src="~/assets/vendor/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="~/assets/vendor/popper.js"></script>
<script src="~/assets/vendor/bootstrap.min.js"></script>
<!-- Simplebar -->
<!-- Used for adding a custom scrollbar to the drawer -->
<script src="~/assets/vendor/simplebar.js"></script>

<script src="~/assets/vendor/Chart.min.js"></script>
<script src="~/assets/vendor/moment.min.js"></script>
<script src="~/assets/vendor/dateformat.js"></script>
<script src="~/assets/vendor/bootstrap-datepicker.min.js"></script>
<script>
    window.theme = "default";
</script>
<script src="~/assets/js/color_variables.js"></script>
<script src="~/assets/js/app.js"></script>

<script src="~/assets/vendor/dom-factory.js"></script>
<!-- DOM Factory -->
<script src="~/assets/vendor/material-design-kit.js"></script>
<!-- MDK -->

<script>
    (function() {
        'use strict';

        // Self Initialize DOM Factory Components
        domFactory.handler.autoInit()

        // Connect button(s) to drawer(s)
        var sidebarToggle = Array.prototype.slice.call(document.querySelectorAll('[data-toggle="sidebar"]'))

        sidebarToggle.forEach(function(toggle) {
            toggle.addEventListener('click', function(e) {
                var selector = e.currentTarget.getAttribute('data-target') || '#default-drawer'
                var drawer = document.querySelector(selector)
                if (drawer) {
                    drawer.mdkDrawer.toggle()
                }
            })
        })

        //////////////////////////////////////////
        // BREAK OUT OF ENVATO LIVE DEMO IFRAME //
        //////////////////////////////////////////

        window.top.location.hostname !== window.location.hostname && (window.top.location = window.location)

    })();
</script>

<script src="~/assets/vendor/Chart.min.js"></script>
<script src="~/assets/vendor/morris.min.js"></script>
<script src="~/assets/vendor/raphael.min.js"></script>
<script>
    new Chart($("#members-chart")[0].getContext('2d'), {
        type: 'bar',
        data: {
            labels: [
                "01", "02", "03", "04",
                "05", "06", "07", "08",
                "09", "10", "11", "12"
            ],
            datasets: [{
                label: 'Registrations',
                data: [41, 22, 7, 13, 49, 12, 25, 33, 18, 11, 9, 21],
                borderWidth: 5,
                borderColor: colors.color_primary,
                backgroundColor: colors.color_primary,
            },
                {
                    label: 'Sales',
                    data: [112, 412, 42, 52, 140, 78, 97, 47, 99, 82, 28, 33],
                    borderWidth: 5,
                    borderColor: colors.color_success,
                    backgroundColor: colors.color_success,
                }
            ]
        },
        options: {
            maintainAspectRatio: false,
            legend: {
                display: false,
                labels: {
                    display: false
                }
            },
            scales: {
                yAxes: [{
                    stacked: false,
                    gridLines: {
                        color: colors.border_color,
                        zeroLineColor: colors.border_color,
                    },
                    ticks: {
                        callback: function(value, index, values) {
                            if (parseInt(value) >= 1000) {
                                return '$' + value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                            } else {
                                return '$' + value;
                            }
                        }
                    }
                }],
                xAxes: [{
                    gridLines: {
                        display: false
                    }
                }]
            }
        }
    });

    new Morris.Donut({
        element: 'goals-chart',
        data: [{
            label: 'Completed',
            value: 72
        },
            {
                label: 'In progress',
                value: 28
            }
        ],
        resize: true,
        colors: [colors.color_primary, colors.color_bg]
    });

    $('.doughnut-chart').each((index, element) => {
        let ctx = element.getContext('2d')
        let value1 = element.dataset.percent
        let value2 = 100 - value1
        let pie_color = ''

        switch (true) {
            case value1 <= 25:
    pie_color = colors.color_danger
    break;
                case value1 <= 50:
    pie_color = colors.color_warning
    break;
                default:
    pie_color = colors.color_success
    }

            new Chart(ctx, {
                type: 'pie',
                data: {
                    datasets: [{
                        data: [value1, value2],
                        borderWidth: 1,
                        backgroundColor: [pie_color, colors.color_bg]
                    }]
                },
                options: {
                    tooltips: {
                        enabled: false
                    },
                    cutoutPercentage: 85
                }
            })
    });
</script>



