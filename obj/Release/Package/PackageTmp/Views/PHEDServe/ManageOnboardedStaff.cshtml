@{
    ViewBag.Title = "Onboard Staff";
    Layout = "~/Views/Shared/_PHEDServeLayoutPage.cshtml";
}


<link href="~/Scripts/bootstrap-datatable/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
<link href="~/Scripts/bootstrap-datatable/css/buttons.bootstrap4.min.css" rel="stylesheet" />
<link href="~/Scripts/bootstrap-datatable/css/dataTables.custom.css" rel="stylesheet" />
<div class="card">
    <div class="card-header">
        <h4 class="card-title">
            Onboard PHED Staff
        </h4>
    </div>

    <div class="card-body">
        
        <div class="row">
            
            <div class="col-md-12">
                
                <div class="dataTables_wrapper container-fluid dt-bootstrap4">
                   
                     <div class="row">

                         <div class="col-md-3 form-group">
                             <label>Staff Category</label>
                             <select name="AccountpaidFrom" class="custom-select" id="inputGroupSelect01" data-live-search="true" data-live-search-placeholder="Search" data-actions-box="true">

                                 <option>--Select Category--</option>
                                 <option>PHED STAFF</option>
                             </select>
                         </div>

                         <div class="col-md-3 form-group">
                             <label>Status</label>
                             <select name="AccountpaidFrom" class="custom-select" id="inputGroupSelect01" data-live-search="true" data-live-search-placeholder="Search" data-actions-box="true">
                                 <option>--Select  Status--</option>
                                 <option>FULL TIME</option>
                                 <option>FIXED-TERM / CONTRACT</option>
                             </select>
                         </div>

                         <div class="col-md-3 form-group">
                             <label>Login Status</label>
                             <select name="AccountpaidFrom" class="custom-select" id="inputGroupSelect01" data-live-search="true" data-live-search-placeholder="Search" data-actions-box="true">
                                 <option>--Select  Status--</option>
                                 <option>LOGGED IN </option>
                                 <option>NOT LOGGED IN</option>
                             </select>
                         </div>
                        
                        <div class="col-md-3 form-group">
                            <label>Department</label>
                            <select name="AccountpaidFrom" class="custom-select" id="inputGroupSelect01" data-live-search="true" data-live-search-placeholder="Search" data-actions-box="true">
                                <option>--Select  Status--</option>
                                <option>ALL</option>
                                 
                            </select> 
                        </div>
                          
                        <div class="col-md-12">
                            <hr /> 
                            <div style="float:right" class="btn-group pull-right" role="group" aria-label="Basic example">
                               
                                <button type="button" class="btn btn-primary" data-bind="click:ViewPHEDStaff">View Staff Data</button> 
                            </div> 
                        </div>

                    </div>


                </div>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    <table data-bind="if: UplodedStaffList().length >= 1" id="customer_payment_info" class="table table-striped table-bordered" style="width:100%">
                        <thead>
                            <tr>
                                <th>S/No</th>
                                <th>StaffId</th>
                                <th>StaffName</th>
                                <th>Email</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- ko foreach: UplodedStatusList() -->
                            <tr>
                                 

                                <td><span data-bind="text:$index() +1"></span></td>
                                <td><span data-bind="text: StaffId"></span></td>
                                
                                <td><span data-bind="text: OtherNames"></span> <span data-bind="text: StaffSurname"></span>  </td>

                                <td><span data-bind="text: Email"></span></td>
                                <td><span data-bind="text: Status"></span></td>
                            </tr>
                            <!-- /ko -->
                        </tbody>

                        <tfoot>
                            <tr>
                                <th>S/No</th>
                                <th>StaffId</th>
                                <th>StaffName</th>
                                <th>Email</th>
                                <th>Status</th>
                            </tr>
                        </tfoot>

                    </table>

                </div>
            </div>
        </div>
    </div>


     
</div>
<script src="~/Scripts/jquery-1.10.2.js"></script>
<link href="~/Scripts/sweetalert2-master/dist/sweetalert.css" rel="stylesheet" />
<script src="~/Scripts/sweetalert2-master/dist/sweetalert.js"></script>

<script src="~/Scripts/bootstrap-datepicker.min.js"></script>
<script src="~/Scripts/datepicker.js"></script>

@*Datatable Paths*@
<script src="~/Scripts/bootstrap-datatable/js/jquery.dataTables.min.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/dataTables.bootstrap4.min.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/dataTables.buttons.min.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/buttons.bootstrap4.min.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/jszip.min.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/pdfmake.min.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/vfs_fonts.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/buttons.html5.min.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/buttons.print.min.js"></script>
<script src="~/Scripts/bootstrap-datatable/js/buttons.colVis.min.js"></script>

<script src="~/Scripts/knockout-3.4.0.debug.js"></script>
<script src="~/Scripts/knockout-3.4.0.js"></script>
<script src="~/Scripts/KnockOutMapping.js"></script>
<script src="~/Scripts/PHEDTribe.js"></script>



<script type="text/javascript">

    $(document).ready(function () {

        var RegVM;
        $.ajax({
            url: '/Account/loadRegisterModel',
            type: 'GET',
            dataType: 'JSON',
            success: function (result) {
                var data = JSON.parse(result);

                console.log("Data From Server " + JSON.stringify(data));
                RegVM = new RegViewModel(data);
                ko.applyBindings(RegVM);

                //$("#ContinentPage").DataTable({ responsive: true });
            },
            error: function (result) {
                //left for brevity

                alert("Failed" + result.responseText);
            }
        });


    });

</script>




<script type="text/javascript">

    function AddFileTo(d) {


        console.log(d.TicketId);

        alert("Yes");




    }

     

    //$(document).ready(function () {
    //    var AllCustomerPaymentViewModel;
    //    $.ajax({
    //        url: '/MAP/LoadReferenceWhitelist',
    //        type: 'GET',
    //        dataType: 'JSON',
    //        success: function (result) {
    //            var data = JSON.parse(result);
    //            console.log("Data From Server " + JSON.stringify(data));
    //            AllCustomerPaymentViewModel = new RegViewModel (data);
    //            ko.applyBindings(AllCustomerPaymentViewModel);

    //            //apply the Datatable here
    //            //  PaginateTable("customer_payment_info");

    //        },
    //        error: function (result) {
    //            alert("Failed" + result.responseText);
    //        }
    //    });
    //});


    function PaginateTable(TableName) {
        var table_id = '#' + TableName
        var data_table_object = {
            dom: 'Bfrtip',
            order: [[0, "asc"]],
            lengthMenu: [
                [5, 15, 30, -1],
                ['5 rows', '15 rows', '30 rows', 'Show all']
            ],
            buttons: [
                'pageLength', 'pdf', {
                    text: 'Excel',
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: ':visible'
                    }
                }, 'colvis'
            ]
        };
        if ($.fn.dataTable.isDataTable(table_id)) {
            //add the destroy key to the data_table_object
            data_table_object.destroy = true;

            //recreate Table
            $(table_id).DataTable(data_table_object);
        }
        else {
            $(table_id).DataTable(data_table_object);
        }

        $(".pagination").addClass('pagination-outline-success');
    }

</script>